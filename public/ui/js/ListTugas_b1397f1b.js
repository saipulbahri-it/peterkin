import{d as U,r as C,N as G,a as I,o as r,G as L,j as e,e as t,b as u,p as i,g,h as a,t as _,l as E,F as H,a2 as O,H as m,$ as P,a3 as R,a4 as z,a5 as A,K as J,a6 as K,a7 as M,R as q,a8 as Q}from"./index_282ecea6.js";const W=t("h3",{class:"mb-4 text-white"},"Tugas hari ini",-1),X={class:"row my-4"},Y={class:"col-12 gap-3 d-flex"},Z=t("i",{class:"fas fa-plus","aria-hidden":"true"},null,-1),tt=t("i",{class:"fas fa-plus","aria-hidden":"true"},null,-1),st={class:"col-12"},at={key:0,class:"card mb-4"},et={class:"card-body p-3"},ot={class:"float-end",style:{position:"absolute",right:"10px",top:"-20px"}},nt={class:"d-flex"},it={class:"card"},lt={class:"card-body p-3"},dt={class:"list-group list-group-flush list-group-numbered-","data-toggle":"checklist"},ct={class:"list-group-item border-0 flex-column align-items-start ps-0 py-0 mb-3"},rt={class:"checklist-item checklist-item-warning ps-0 ms-0"},ut={class:"d-flex align-items-center"},_t={class:"mb-0 text-dark font-weight-bold text-sm"},pt=t("i",{class:"fa fs-6 fa-ellipsis-v",title:"...","aria-hidden":"true"},null,-1),mt=t("i",{class:"fa fa-edit me-1"},null,-1),ht=t("i",{class:"fa fa-trash me-1"},null,-1),bt={class:"text-xxs ps-4 mb-1"},ft={class:"d-flex justify-content-between align-items-center ms-4 mt-0"},gt=t("div",null,[t("span",{class:"text-xs me-1 text-secondary font-weight-bold"},"Sumber : "),t("span",{class:"text-xs font-weight-bolder"},"Lainnya")],-1),vt={class:"ms-auto text-end"},xt=t("span",{class:"text-xs text-secondary font-weight-bold me-1"}," Status : ",-1),kt={class:"badge badge-sm bg-gradient-warning text-xxs"},wt=t("hr",{class:"horizontal dark mt-4 mb-0"},null,-1),Bt=U({__name:"ListTugas",setup(yt){const c=C(!1),v=C([]),p=async()=>{const{status:l,data:o}=await O.apiClient.get("/api/task").then(({status:d,data:b})=>({status:d,data:b}));v.value=o.data};G(()=>{p()});const x={title:"",description:""},s=I({...x}),k=()=>{c.value=!0},h=()=>{Object.assign(s,{},x),c.value=!1},B=()=>{s!=null&&s.id?m.put(`/api/task/${s.id}`,s).then(({status:l,data:o})=>{h(),p()}):m.post("/api/task",s).then(({status:l,data:o})=>{h(),p()})},T=l=>{m.get(`/api/task/${l.id}`).then(({status:o,data:d})=>{Object.assign(s,d),c.value=!0})},V=l=>{m.delete(`/api/task/${l.id}`).then(({status:o,data:d})=>{p()})};return(l,o)=>{const d=P,b=R,w=z,F=A,f=K,j=M,y=q,D=Q,$=J;return r(),L($,{fluid:""},{default:e(()=>[W,t("div",X,[t("div",Y,[c.value?g("",!0):(r(),u("a",{key:0,class:"btn bg-gradient-info mb-4 mr-auto",href:"javascript:;",onClick:k},[Z,i("  Pilih Tupoksi ")])),c.value?g("",!0):(r(),u("a",{key:1,class:"btn bg-gradient-dark mb-4 ms-auto",href:"javascript:;",onClick:k},[tt,i("   Tugas Baru ")]))]),t("div",st,[c.value?(r(),u("div",at,[t("div",et,[t("span",ot,[a(d,{variant:"info",onClick:h},{default:e(()=>[i("x")]),_:1})]),a(w,{label:"Judul:","label-class":"mb-0 pb-0",class:"mb-2"},{default:e(()=>[a(b,{modelValue:s.title,"onUpdate:modelValue":o[0]||(o[0]=n=>s.title=n)},null,8,["modelValue"])]),_:1}),a(w,{label:"Rincian Tugas:","label-class":"mb-0 pb-0",class:"mb-3"},{default:e(()=>[a(F,{modelValue:s.description,"onUpdate:modelValue":o[1]||(o[1]=n=>s.description=n),disabled:!!s.job_desc_id},null,8,["modelValue","disabled"])]),_:1}),t("div",nt,[a(d,{variant:"primary",class:"ms-auto",onClick:B},{default:e(()=>[i(_(s!=null&&s.id?"Update":"Create"),1)]),_:1})])])])):g("",!0),t("div",it,[t("div",lt,[t("ul",dt,[(r(!0),u(H,null,E(v.value,(n,N)=>(r(),u("li",ct,[t("div",rt,[t("div",ut,[t("h6",_t,_(N+1)+". "+_(n.title),1),a(D,{"no-caret":!0,"menu-class":"dropdown-menu-end px-2 py-2 top-4 me-sm-n4 me-n4","toggle-class":"px-1 btn-xs",variant:"link",class:"dropdown float-lg-end ms-auto pe-1"},{"button-content":e(()=>[pt]),default:e(()=>[a(f,{variant:"secondary"},{default:e(()=>[i(" To-Do")]),_:1}),a(f,{variant:"warning"},{default:e(()=>[i(" In-Progress")]),_:1}),a(f,{variant:"success"},{default:e(()=>[i(" Done ")]),_:1}),a(j),a(y,{class:"border-radius-md text-warning",onClick:S=>T(n)},{default:e(()=>[mt,i("Edit ")]),_:2},1032,["onClick"]),a(y,{variant:"danger",class:"border-radius-md",onClick:S=>V(n)},{default:e(()=>[ht,i(" Hapus ")]),_:2},1032,["onClick"])]),_:2},1024)]),t("p",bt,_(n.description),1),t("div",ft,[gt,t("div",vt,[xt,t("span",kt,_(n.task_status),1)])])]),wt]))),256))])])])])])]),_:1})}}});export{Bt as default};
