import{B,z as E,Z as S,E as N,c as $,h as L,g as U,Q as z,_ as D}from"./app-b487880c.js";import{d as Q,a as g,o as Z,E as A,F as s,O as l,b as t,J as o,W as F,h as J,t as r,a4 as O,a6 as R,a7 as T}from"./index_a8fcfeb5.js";const c=f=>(R("data-v-f765f789"),f=f(),T(),f),W={class:"d-lg-flex"},q=c(()=>t("div",null,[t("h5",{class:"mb-0"},"List Pegawai"),t("p",{class:"text-sm mb-0"},"-")],-1)),G={class:"ms-auto my-auto d-flex gap-3 mt-lg-0 mt-4 align-items-center"},H=c(()=>t("a",{href:"#",class:"btn bg-gradient-primary btn-sm mb-0"}," +Â  New ",-1)),K=c(()=>t("button",{type:"button",class:"btn btn-outline-primary btn-sm mb-0","data-bs-toggle":"modal","data-bs-target":"#import"}," Import ",-1)),M=c(()=>t("div",{class:"text-center text-danger my-2"},"ItemsProvider error",-1)),X={class:"text-sm"},Y=["item-id"],tt=c(()=>t("i",{class:"fas fa-eye text-secondary","aria-hidden":"true"},null,-1)),et=[tt],at=["item-id"],st=c(()=>t("i",{class:"fas fa-user-edit text-secondary","aria-hidden":"true"},null,-1)),ot=[st],nt=["item-id"],lt=c(()=>t("i",{class:"fas fa-trash text-secondary","aria-hidden":"true"},null,-1)),it=[lt],rt={class:"d-flex px-2 py-1 gap-2"},ct={class:"d-flex flex-column justify-content-center"},dt={class:"mb-0 text-xs"},_t={class:"text-xs text-secondary mb-0"},pt={class:"d-flex px-2 py-1 gap-2"},mt={class:"d-flex flex-column justify-content-center"},ut={class:"mb-0 text-xs"},gt={class:"text-xs text-secondary mb-0"},ft={class:"sticky-footer"},bt=Q({__name:"ListView",setup(f){let y=[{key:"name",class:"align-middle"},{key:"account",label:"username & email",class:"align-middle"},{key:"position",label:"jabatan",class:"align-middle"},{key:"action",class:"align-middle text-center",thStyle:{width:"115px"}}],n=g({page:1,per_page:15,current_page:1,from:0,to:0,total:0}),h=g([]),d=g(15);const x=g(),v=i=>{d.value=i},w=i=>{var a;n.value.current_page=i,(a=x.value)==null||a.refresh()},P=i=>{const a=i.trim().split(" ");return a.reduce((p,m,u)=>((u===0||u===a.length-1)&&(p=`${p}${m.charAt(0).toUpperCase()}`),p),"")},V=async function(i){let a={page:i.currentPage,per_page:d.value};try{const{data:_,status:p}=await O.get("/api/users",{params:a});let m=_;return n.value=m.meta,h.value=m.data,_.data}catch{return[]}},b=g(!1);return(i,a)=>{const _=B,p=E,m=S,u=N,k=$,C=L,I=U,j=z;return Z(),A(j,{fluid:""},{default:s(()=>[l(I,{bodyClass:"p-0"},{header:s(()=>[t("div",W,[q,t("div",G,[H,K,t("button",{class:"btn btn-outline-primary btn-sm export btn-sm mb-0","data-type":"csv",type:"button",name:"button",onClick:a[0]||(a[0]=e=>b.value=!b.value)}," Export ")])])]),footer:s(()=>[t("div",ft,[l(C,{class:"align-items-center"},{default:s(()=>[l(u,{class:"col-auto"},{default:s(()=>[l(m,{modelValue:o(d),"onUpdate:modelValue":a[1]||(a[1]=e=>F(d)?d.value=e:d=e),options:[5,10,15,25],class:"me-3",onChange:v},null,8,["modelValue"])]),_:1}),l(u,null,{default:s(()=>[J(" Showing "+r(o(n).from)+" to "+r(o(n).to)+" of "+r(o(n).total)+" items ",1)]),_:1}),l(u,{md:"6",class:"align-right"},{default:s(()=>[l(k,{modelValue:o(n).current_page,"onUpdate:modelValue":a[2]||(a[2]=e=>o(n).current_page=e),pills:"","total-rows":o(n).total,"per-page":o(n).per_page,end:!0,"aria-controls":"table",class:"my-0 justify-content-end",align:"right",onChange:w},null,8,["modelValue","total-rows","per-page"])]),_:1})]),_:1})])]),default:s(()=>[l(p,{ref_key:"table",ref:x,id:"table",items:o(h),provider:V,fields:o(y),busy:b.value,"current-page":o(n).current_page,"table-busy":!1,xperPage:"perPage",noProviderPaging:!1,tableClass:"text-xs",small:!0,responsive:"",showEmpty:"",align:"middle"},{empty:s(()=>[M]),"cell(action)":s(({item:e})=>[t("div",X,[t("a",{href:"javascript:;","data-bs-toggle":"tooltip","data-bs-original-title":"Preview","item-id":`${e.id}`},et,8,Y),t("a",{href:"javascript:;",class:"mx-3","data-bs-toggle":"tooltip","data-bs-original-title":"Edit","item-id":`${e.id}`},ot,8,at),t("a",{href:"javascript:;","data-bs-toggle":"tooltip","data-bs-original-title":"Delete","item-id":`${e.id}`},it,8,nt)])]),"cell(name)":s(({item:e})=>[t("div",rt,[l(_,{text:P(e.name),rounded:"",variant:"light",class:"avatar avatar-sm"},null,8,["text"]),t("div",ct,[t("h6",dt,r(e.name),1),t("p",_t,r(e.number),1)])])]),"cell(account)":s(({item:e})=>[t("div",pt,[t("div",mt,[t("h6",ut,r(e.username),1),t("p",gt,r(e.email),1)])])]),_:1},8,["items","fields","busy","current-page"])]),_:1})]),_:1})}}});const yt=D(bt,[["__scopeId","data-v-f765f789"]]);export{yt as default};
