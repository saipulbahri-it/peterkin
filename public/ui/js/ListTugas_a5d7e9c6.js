import{d as U,r as T,N as G,a as I,o as c,G as L,j as e,e as t,b as u,p as n,g as p,h as a,t as _,l as E,F as H,a2 as O,H as h,$ as P,a3 as R,a4 as z,a5 as A,K as J,a6 as K,a7 as M,R as q,a8 as Q}from"./index_282ecea6.js";const W=t("h3",{class:"mb-4 text-white"},"Tugas hari ini",-1),X={class:"row my-4"},Y={class:"col-12 gap-3 d-flex"},Z=t("i",{class:"fas fa-plus","aria-hidden":"true"},null,-1),tt=t("i",{class:"fas fa-plus","aria-hidden":"true"},null,-1),st={class:"col-12"},at={key:0,class:"card mb-4"},et={class:"card-body p-3"},nt={class:"float-end",style:{position:"absolute",right:"10px",top:"-20px"}},ot={class:"d-flex"},it={class:"card"},lt={class:"card-body p-3"},dt={class:"list-group list-group-flush list-group-numbered-","data-toggle":"checklist"},ct={class:"list-group-item border-0 flex-column align-items-start ps-0 py-0 mb-3"},rt={class:"checklist-item checklist-item-warning ps-0 ms-0"},ut={class:"d-flex align-items-center"},_t={class:"mb-0 text-dark font-weight-bold text-sm"},mt=t("i",{class:"fa fs-6 fa-ellipsis-v",title:"...","aria-hidden":"true"},null,-1),pt=t("i",{class:"fa fa-edit me-1"},null,-1),ht=t("i",{class:"fa fa-trash me-1"},null,-1),bt={class:"text-xxs ps-4 mb-1"},gt={class:"d-flex justify-content-between align-items-center ms-4 mt-0"},ft=t("div",null,[t("span",{class:"text-xs me-1 text-secondary font-weight-bold"},"Sumber : "),t("span",{class:"text-xs font-weight-bolder"},"Lainnya")],-1),vt={class:"ms-auto text-end"},xt=t("span",{class:"text-xs text-secondary font-weight-bold me-1"}," Status : ",-1),kt={class:"badge badge-sm bg-gradient-warning text-xxs"},wt=t("hr",{class:"horizontal dark mt-4 mb-0"},null,-1),yt={key:0,class:"list-group-item border-0 flex-column align-items-start ps-0 py-0 mb-3"},Tt=t("strong",null,"Tupoksi",-1),Ct=t("br",null,null,-1),jt=U({__name:"ListTugas",setup(Bt){const r=T(!1),b=T([]),m=async()=>{const{status:l,data:o}=await O.apiClient.get("/api/task").then(({status:d,data:f})=>({status:d,data:f}));b.value=o.data};G(()=>{m()});const x={title:"",description:""},s=I({...x}),k=()=>{r.value=!0},g=()=>{Object.assign(s,{},x),r.value=!1},C=()=>{s!=null&&s.id?h.put(`/api/task/${s.id}`,s).then(({status:l,data:o})=>{g(),m()}):h.post("/api/task",s).then(({status:l,data:o})=>{g(),m()})},B=l=>{h.get(`/api/task/${l.id}`).then(({status:o,data:d})=>{Object.assign(s,d),r.value=!0})},V=l=>{h.delete(`/api/task/${l.id}`).then(({status:o,data:d})=>{m()})};return(l,o)=>{const d=P,f=R,w=z,j=A,v=K,F=M,y=q,D=Q,$=J;return c(),L($,{fluid:""},{default:e(()=>[W,t("div",X,[t("div",Y,[r.value?p("",!0):(c(),u("a",{key:0,class:"btn bg-gradient-info mb-4 mr-auto",href:"javascript:;",onClick:k},[Z,n("  Pilih Daftar Tupoksi ")])),r.value?p("",!0):(c(),u("a",{key:1,class:"btn bg-gradient-dark mb-4 ms-auto",href:"javascript:;",onClick:k},[tt,n("   Tugas Baru ")]))]),t("div",st,[r.value?(c(),u("div",at,[t("div",et,[t("span",nt,[a(d,{variant:"info",onClick:g},{default:e(()=>[n("x")]),_:1})]),a(w,{label:"Judul:","label-class":"mb-0 pb-0",class:"mb-2"},{default:e(()=>[a(f,{modelValue:s.title,"onUpdate:modelValue":o[0]||(o[0]=i=>s.title=i)},null,8,["modelValue"])]),_:1}),a(w,{label:"Rincian Tugas:","label-class":"mb-0 pb-0",class:"mb-3"},{default:e(()=>[a(j,{modelValue:s.description,"onUpdate:modelValue":o[1]||(o[1]=i=>s.description=i),disabled:!!s.job_desc_id},null,8,["modelValue","disabled"])]),_:1}),t("div",ot,[a(d,{variant:"primary",class:"ms-auto",onClick:C},{default:e(()=>[n(_(s!=null&&s.id?"Update":"Create"),1)]),_:1})])])])):p("",!0),t("div",it,[t("div",lt,[t("ul",dt,[(c(!0),u(H,null,E(b.value,(i,N)=>(c(),u("li",ct,[t("div",rt,[t("div",ut,[t("h6",_t,_(N+1)+". "+_(i.title),1),a(D,{"no-caret":!0,"menu-class":"dropdown-menu-end px-2 py-2 top-4 me-sm-n4 me-n4","toggle-class":"px-1 btn-xs",variant:"link",class:"dropdown float-lg-end ms-auto pe-1"},{"button-content":e(()=>[mt]),default:e(()=>[a(v,{variant:"secondary"},{default:e(()=>[n(" To-Do")]),_:1}),a(v,{variant:"warning"},{default:e(()=>[n(" In-Progress")]),_:1}),a(v,{variant:"success"},{default:e(()=>[n(" Done ")]),_:1}),a(F),a(y,{class:"border-radius-md text-warning",onClick:S=>B(i)},{default:e(()=>[pt,n("Edit ")]),_:2},1032,["onClick"]),a(y,{variant:"danger",class:"border-radius-md",onClick:S=>V(i)},{default:e(()=>[ht,n(" Hapus ")]),_:2},1032,["onClick"])]),_:2},1024)]),t("p",bt,_(i.description),1),t("div",gt,[ft,t("div",vt,[xt,t("span",kt,_(i.task_status),1)])])]),wt]))),256)),b.value.length===0?(c(),u("li",yt,[n(" Tugas hari ini tidak tersedia. silahkan buat tugas harian anda dengan memilih daftar "),Tt,n(" : atau "),Ct,n(" tambah tugas baru jika tugas anda tidak ada dalam Tupoksi jabatan anda. ")])):p("",!0)])])])])])]),_:1})}}});export{jt as default};
